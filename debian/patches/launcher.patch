Last-Update: 2013-06-19
Forwarded: no
Author: Dmitry Smirnov <onlyjob@member.fsf.org>
Description: fix mysql-workbench launcher
 This patch correcting mysql-workbench wrapper/launcher
 in order to use the right paths to main executable
 and to plugins/modules.

--- a/frontend/linux/workbench/mysql-workbench.in
+++ b/frontend/linux/workbench/mysql-workbench.in
@@ -6,22 +6,12 @@
 
 # force disable the Mac style single menu hack in Ubuntu Unity
 UBUNTU_MENUPROXY=0
 
-program_path="$0"
-
-libdir=$(basename @libdir@)
-libexecdir=$(basename @libexecdir@)
-
-bindirname=`dirname $program_path`
-basedirname=$(cd "$bindirname/..";pwd)
-wblibdir="$basedirname/$libdir/mysql-workbench"
-
-# Apprently some distros decided it was a good idea to just make /bin a symlink to /usr/bin...
-if ! test -d $wblibdir; then
-    basedirname=$(dirname @libdir@)
-    wblibdir="$basedirname/$libdir/mysql-workbench"
-fi
+basedirname="/usr"
+libdir="lib"
+libexecdir="lib/mysql-workbench"
+wblibdir="@libdir@/mysql-workbench"
 
 # if libcairo and pixman are in the wb libraries dir, force them to be preloaded
 if test -f $wblibdir/libcairo.so.2; then
 	if test "$LD_PRELOAD" != ""; then
